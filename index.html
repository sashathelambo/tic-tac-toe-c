<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic-Tac-Toe Game</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-gap: 10px;
            margin: 20px auto;
        }
        
        .cell {
            width: 100px;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            background-color: #61dafb;
            border: 2px solid #20232a;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }
        
        .cell:hover {
            background-color: #21a1f1;
            transform: scale(1.1);
        }
        
        .cell.x {
            color: #ff6b6b;
        }
        
        .cell.o {
            color: #4db6ac;
        }
    </style>
</head>

<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen p-4">
    <h1 class="text-4xl font-bold text-blue-400 mb-4">Welcome to Tic-Tac-Toe!</h1>
    <div class="instructions bg-gray-800 p-6 rounded-lg shadow-lg max-w-lg text-center">
        <h2 class="text-2xl font-semibold text-blue-400 mb-4">Instructions</h2>
        <p class="mb-4">This is a console-based Tic-Tac-Toe game written in C++. Follow the instructions below to play the game:</p>
        <ol class="list-decimal list-inside mb-4 text-gray-300">
            <li>Clone the repository from GitHub: <a href="https://github.com/sashathelambo/tic-tac-toe-c" class="text-blue-400 underline">https://github.com/sashathelambo/tic-tac-toe-c</a></li>
            <li>Navigate to the directory containing the game files.</li>
            <li>Open a terminal or command prompt.</li>
            <li>Compile the source code using a C++ compiler (e.g., <code class="bg-gray-700 p-1 rounded">g++ main.cpp -o main.exe</code>).</li>
            <li>Run the executable file <code class="bg-gray-700 p-1 rounded">main.exe</code> to start the game.</li>
            <li>Follow the on-screen instructions to play against another player or the computer.</li>
            <li>Press <strong>ESC</strong> at any time to exit the game or <strong>M</strong> to return to the menu.</li>
        </ol>
        <h2 class="text-2xl font-semibold text-blue-400 mb-4">Game Features</h2>
        <ul class="list-disc list-inside text-gray-300">
            <li>Play against another player or the computer.</li>
            <li>Color-coded console output for better visibility.</li>
            <li>Simple and intuitive controls.</li>
        </ul>
    </div>
    <div id="output" class="bg-gray-800 p-4 rounded-lg shadow-lg mt-4 max-w-lg text-left text-gray-300"></div>
    <footer class="mt-auto text-gray-500">
        <p>&copy; 2024 Tic-Tac-Toe Game. All rights reserved.</p>
    </footer>

    <script src="https://felixhao28.github.io/JSCPP/dist/JSCPP.es5.min.js"></script>
    <script>
        const cppCode = `
       #include <iostream>
#include <vector>
#include <string>
#include <cstdlib>
#include <ctime>

using namespace std;

// Function to display the Tic-Tac-Toe board
void displayBoard(const vector<string>& board) {
    for (int i = 0; i < 9; i += 3) {
        for (int j = 0; j < 3; ++j) {
            cout << board[i + j];
            if (j < 2) cout << " | ";
        }
        cout << endl;
        if (i < 6) cout << "---------" << endl;
    }
}

// Function to check if a player has won
bool checkWin(const vector<string>& board, const string& marker) {
    int winPatterns[8][3] = {
        {0, 1, 2}, {3, 4, 5}, {6, 7, 8}, // rows
        {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, // columns
        {0, 4, 8}, {2, 4, 6}             // diagonals
    };
    for (int i = 0; i < 8; i++) {
        if (board[winPatterns[i][0]] == marker && board[winPatterns[i][1]] == marker && board[winPatterns[i][2]] == marker) {
            return true;
        }
    }
    return false;
}

// Function to check if the game is a draw
bool isDraw(const vector<string>& board) {
    for (int i = 0; i < 9; i++) {
        if (board[i] != "X" && board[i] != "O") {
            return false;
        }
    }
    return true;
}

// Function to reset the board
void resetBoard(vector<string>& board) {
    for (int i = 0; i < 9; ++i) {
        board[i] = to_string(i + 1);
    }
}

// Function to get player input
int getPlayerInput() {
    int pos;
    cout << "Enter a position (1-9): ";
    cin >> pos;
    return pos;
}

// Function to play the game
void playGame() {
    vector<string> board(9);
    resetBoard(board);

    cout << "Welcome to Tic-Tac-Toe! Player 1 is X, Player 2 is O. Let's begin!" << endl;
    displayBoard(board);

    string currentPlayer = "X";
    while (true) {
        int pos;
        bool validMove = false;

        while (!validMove) {
            cout << "Player " << (currentPlayer == "X" ? "1 (X)" : "2 (O)") << ", choose a position (1-9): ";
            pos = getPlayerInput();

            if (pos < 1 || pos > 9 || board[pos - 1] == "X" || board[pos - 1] == "O") {
                cout << "Invalid move. Try again." << endl;
                continue;
            }

            validMove = true;
        }

        board[pos - 1] = currentPlayer;
        displayBoard(board);

        if (checkWin(board, currentPlayer)) {
            cout << "Player " << (currentPlayer == "X" ? "1 (X)" : "2 (O)") << " wins!" << endl;
            break;
        }

        if (isDraw(board)) {
            cout << "It's a draw!" << endl;
            break;
        }

        currentPlayer = (currentPlayer == "X") ? "O" : "X";
    }
}

int main() {
    playGame();
    return 0;
}
        `;

        const outputElement = document.getElementById('output');
        const config = {
            stdio: {
                write: function(s) {
                    outputElement.innerHTML += s + '<br>';
                }
            }
        };

        JSCPP.run(cppCode, '', config);
    </script>
</body>

</html>